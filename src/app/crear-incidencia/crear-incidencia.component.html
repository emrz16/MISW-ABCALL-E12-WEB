<!-- src/app/incidencia/crear-incidencia/crear-incidencia.component.html -->
<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card w-100" style="max-width: 600px;">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">Crear Incidencia</h2>

      <!-- Mensaje de Éxito -->
      <div *ngIf="mensajeExito" class="alert alert-success" role="alert">
        {{ mensajeExito }}
      </div>

      <!-- Mensaje de Error -->
      <div *ngIf="mensajeError" class="alert alert-danger" role="alert">
        {{ mensajeError }}
      </div>

      <form [formGroup]="incidenciaForm" (ngSubmit)="guardar()">
        <!-- User id -->
        <div class="mb-3">
          <label for="user_id" class="form-label">Usuario</label>
          <input
            type="text"
            id="user_id"
            class="form-control"
            formControlName="user_id"
            placeholder="Ingrese el id del usuario"
          />
          <div class="text-danger mt-1" *ngIf="incidenciaForm.get('user_id')?.touched && incidenciaForm.get('user_id')?.invalid">
            El usuario es requerido.
          </div>
        </div>
        <!-- Descripción del Incidente -->
        <div class="mb-3">
          <label for="descripcion" class="form-label">Descripción del incidente</label>
          <textarea
            id="descripcion"
            class="form-control"
            formControlName="descripcion"
            rows="4"
            placeholder="Ingrese la descripción del incidente"
          ></textarea>
          <div class="text-danger mt-1" *ngIf="incidenciaForm.get('descripcion')?.touched && incidenciaForm.get('descripcion')?.invalid">
            La descripción es requerida.
          </div>
        </div>



        <!-- Canal -->
        <div class="mb-4">
          <label for="canal" class="form-label">Canal</label>
          <select id="canal" class="form-control" formControlName="canal">
            <option value="" disabled selected>Seleccione el canal</option>
            <option value="email">Email</option>
            <option value="phone">Telefono</option>
            <option value="chat">Chat</option>
          </select>
          <div class="text-danger mt-1" *ngIf="incidenciaForm.get('canal')?.touched && incidenciaForm.get('canal')?.invalid">
            El canal es requerido.
          </div>
        </div>

        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-success">
            Guardar
          </button>
          <button type="button" (click)="cancelar()" class="btn btn-danger">
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
